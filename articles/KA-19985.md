---
title: '"Adobe Experience Manager: Skickarens cachefiler uppdateras oväntat'
description: Beskrivning
solution: Experience Manager
product: Experience Manager
applies-to: Experience Manager
keywords: KCS
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Nobuhiro Hashimoto
article-created-date: 6/30/2022 5:05:25 AM
article-published-by: Nobuhiro Hashimoto
article-published-date: 6/30/2022 5:08:03 AM
version-number: 2
article-number: KA-19985
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=b083b13c-32f8-ec11-bb3d-000d3a5b0be0
exl-id: 57f937e5-0e45-4fba-b158-e8870ab1b868
source-git-commit: e8f4ca2dd578944d4fe399074fab461de88ad247
workflow-type: tm+mt
source-wordcount: '260'
ht-degree: 0%

---

# Adobe Experience Manager: Skickarens cachefiler uppdateras oväntat

## Beskrivning


Ibland kan det hända att Dispatcher-cachefiler uppdateras oväntat vid en oväntad tidpunkt eller frekvens. I den här artikeln beskrivs hur du analyserar en sådan situation.

<b>Miljö</b>
AEM as a Cloud Service, AEM 6.5


## Upplösning


Vid publicering av innehåll skickar AEM en cacheogiltigförklaring (GET /dispatcher/invalidate.cache) till Dispatcher. När en begäran om innehållet kommer till Dispatcher uppdateras sedan dess cachefiler.

Utifrån detta beteende söker du efter ett mönster genom att samla in loggarna om begäran om cacheogiltigförklaring och innehållsbegäran.

Exempelloggar för en ogiltigförklaring:
<br>Dispatcher - access_log


```
127.0.0.1 - - 07/Jun/2022:13:44:35 +0900 "GET /dispatcher/invalidate.cache HTTP/1.1" 200 13 "about:blank" "Jakarta Commons-HttpClient/3.1"
```

<br>Dispatcher - dispatcher.log


```
07/Jun/2022:13:44:35 +0900 "GET /dispatcher/invalidate.cache HTTP/1.1" 200 purge publish/- 0ms
```

<br>Publicera - error.log


```
07.06.2022 13:44:35.750 *INFO* sling-threadpool-f158f7aa-d59d-4d34-9bfa-be84a03a917f-(apache-sling-job-thread-pool)-1-com_day_cq_replication_job_flush(com/day/cq/replication/job/flush) com.day.cq.replication.Agent.flush Sending GET request to http://localhost:80/dispatcher/invalidate.cache
...
07.06.2022 13:44:35.758 *INFO* sling-threadpool-f158f7aa-d59d-4d34-9bfa-be84a03a917f-(apache-sling-job-thread-pool)-1-com_day_cq_replication_job_flush(com/day/cq/replication/job/flush) com.day.cq.replication.Agent.flush Replication (ACTIVATE) of /content/we-retail/us/en/products successful.
```




<b>Orsak</b>

Här är de vanligaste fallen där Dispatcher-cachefilerna uppdateras oväntat.


<u>Fall 1 - Vanliga cacheuppdateringar av oväntat innehåll</u>

Cachefiler uppdateras ofta, men det uppdaterade innehållet är inte målet för cacheminnets begäran om ogiltigförklaring.

I det här fallet kan värdet för /statfileslevel i Dispatcher-konfigurationen vara för lågt. Observera att kommentering av /statfileslevel i dispatcher.any betyder &quot;0&quot; för det här värdet.

När du har /statfileslevel &quot;0&quot; och publicerar innehåll blir alla cachefiler ogiltiga oavsett sökvägar. Referensen beskriver detaljerna.

https://experienceleague.adobe.com/docs/experience-manager-dispatcher/using/configuring/dispatcher-configuration.html#invalidating-files-by-folder-level


<u>Fall 2 - Cachelagra ogiltiga begäranden från en oönskad klient</u>

Dispatcher-konfigurationen kanske inte har en lämplig begränsning för cacheogiltigförklaringsbegäranden. Kontrollera /allowedClients i dispatcher.any.


<u>Fall 3 - Inga cacheogiltigförklaringar</u>

Dispatcher-konfigurationen kan använda tidsbaserad cacheogiltigförklaring. I det här fallet ska /enableTTL &quot;1&quot; finnas i dispatcher.any.
